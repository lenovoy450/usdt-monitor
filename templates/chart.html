
<h2>ğŸ“ˆ äº¤æ˜“è¶‹åŠ¿ç»Ÿè®¡</h2>
<form method="get">
  <label>ç»Ÿè®¡æ¨¡å¼ï¼š</label>
  <select name="mode">
    <option value="date" {% if mode == 'date' %}selected{% endif %}>æŒ‰æ—¥æœŸ</option>
    <option value="address" {% if mode == 'address' %}selected{% endif %}>æŒ‰åœ°å€</option>
  </select>
  <label>æ–¹å‘ï¼š</label>
  <select name="direction">
    <option value="all" {% if direction == 'all' %}selected{% endif %}>å…¨éƒ¨</option>
    <option value="in" {% if direction == 'in' %}selected{% endif %}>æ”¶å…¥ (in)</option>
    <option value="out" {% if direction == 'out' %}selected{% endif %}>æ”¯å‡º (out)</option>
  </select>
  <br><br>
  èµ·å§‹æ—¶é—´ï¼š<input type="date" name="start" value="{{ start }}"> -
  ç»“æŸæ—¶é—´ï¼š<input type="date" name="end" value="{{ end }}">
  <button type="submit">ç­›é€‰</button>
</form>
<canvas id="chart" width="600" height="300"></canvas>
<a href="/">è¿”å›ä¸»é¡µ</a>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const ctx = document.getElementById('chart').getContext('2d');
const chart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: {{ labels|tojson }},
    datasets: [{
      label: '{{ label }}',
      data: {{ values|tojson }},
      backgroundColor: 'rgba(75, 192, 192, 0.6)'
    }]
  },
});
</script>
